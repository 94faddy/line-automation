<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LINE Web Automation - Multi Instance</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
  <link href="/css/style.css" rel="stylesheet">
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <div class="col-md-3 sidebar">
        <div class="sidebar-header">
          <h4><i class="bi bi-phone"></i> LINE Multi-Instance</h4>
          <small class="text-muted">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö ‡πÑ‡∏ó‡∏¢/Emoji/URL</small>
        </div>

        <!-- Instances List -->
        <div class="card mb-3">
          <div class="card-header d-flex justify-content-between align-items-center">
            <span><i class="bi bi-collection"></i> Instances</span>
            <button class="btn btn-sm btn-outline-light" onclick="refreshInstances()">
              <i class="bi bi-arrow-clockwise"></i>
            </button>
          </div>
          <div class="card-body p-0">
            <div id="instances-list">
              <div class="text-center p-3">
                <div class="spinner-border spinner-border-sm" role="status"></div>
                <span class="ms-2">Detecting...</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="card mb-3">
          <div class="card-header">
            <i class="bi bi-lightning"></i> Quick Actions
          </div>
          <div class="card-body">
            <button class="btn btn-success btn-sm w-100 mb-2" onclick="openLineAll()">
              <i class="bi bi-play-fill"></i> ‡πÄ‡∏õ‡∏¥‡∏î LINE ‡∏ó‡∏∏‡∏Å Instance
            </button>
            <button class="btn btn-warning btn-sm w-100 mb-2" onclick="pauseAll()">
              <i class="bi bi-pause-fill"></i> ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
            </button>
            <button class="btn btn-danger btn-sm w-100 mb-2" onclick="stopAll()">
              <i class="bi bi-stop-fill"></i> ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            </button>
            <button class="btn btn-secondary btn-sm w-100" onclick="resetAll()">
              <i class="bi bi-arrow-counterclockwise"></i> ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï
            </button>
          </div>
        </div>

        <!-- Combined Stats -->
        <div class="card">
          <div class="card-header">
            <i class="bi bi-bar-chart"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏ß‡∏°
          </div>
          <div class="card-body">
            <div class="status-item">
              <span>Instances:</span>
              <span id="total-instances" class="badge bg-primary">0</span>
            </div>
            <div class="status-item">
              <span>‡∏™‡πà‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:</span>
              <span id="total-sent" class="text-success">0</span>
            </div>
            <div class="status-item">
              <span>‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:</span>
              <span id="total-failed" class="text-danger">0</span>
            </div>
          </div>
        </div>
        
        <!-- Clipper Info -->
        <div class="card mt-3">
          <div class="card-header">
            <i class="bi bi-check-circle"></i> ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Unicode
          </div>
          <div class="card-body">
            <small class="text-muted">
              ‚úÖ ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢<br>
              ‚úÖ Emoji üòÄüëãüéâ<br>
              ‚úÖ URL<br>
              <br>
              ‡πÉ‡∏ä‡πâ Clipper + Paste (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°)
            </small>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="col-md-9 main-content">
        <!-- Header -->
        <div class="content-header d-flex justify-content-between align-items-center">
          <h3><i class="bi bi-send"></i> ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° LINE ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</h3>
          <div>
            <span class="badge bg-info" id="mode-badge">Parallel Mode</span>
          </div>
        </div>

        <!-- Send Form -->
        <div class="card mb-4">
          <div class="card-header">
            <i class="bi bi-chat-dots"></i> ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
          </div>
          <div class="card-body">
            <form id="send-form">
              <!-- Open LINE Button -->
              <div class="alert alert-warning mb-3" id="open-line-alert">
                <div class="d-flex justify-content-between align-items-center">
                  <span><i class="bi bi-exclamation-triangle"></i> <strong>‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î LINE ‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Home ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á!</strong></span>
                  <button type="button" class="btn btn-success" onclick="openLineAll()">
                    <i class="bi bi-play-fill"></i> ‡πÄ‡∏õ‡∏¥‡∏î LINE App
                  </button>
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">
                  ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° 
                  <span class="badge bg-success">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</span>
                  <span class="badge bg-primary">Emoji üòÄ</span>
                  <span class="badge bg-info">URL</span>
                </label>
                <textarea class="form-control" id="message" rows="4" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà...&#10;‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥ ‡πÅ‡∏•‡∏∞ URL">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! üëã

‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏≤‡∏Å LINE automation
‡∏•‡∏¥‡∏á‡∏Å‡πå: https://example.com</textarea>
                <small class="text-muted">
                  üí° ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢, Emoji ‡πÅ‡∏•‡∏∞ URL
                </small>
              </div>

              <!-- Instance Settings -->
              <div class="card mb-3">
                <div class="card-header bg-light d-flex justify-content-between align-items-center">
                  <span><i class="bi bi-sliders"></i> ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á</span>
                  <div class="form-check form-switch mb-0">
                    <input class="form-check-input" type="checkbox" id="sendAllFriends" checked>
                    <label class="form-check-label" for="sendAllFriends">‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</label>
                  </div>
                </div>
                <div class="card-body">
                  <div id="send-all-info" class="alert alert-info mb-3">
                    <i class="bi bi-info-circle"></i> ‡∏à‡∏∞‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ <strong>‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</strong> ‡πÉ‡∏ô‡∏•‡∏¥‡∏™‡∏ï‡πå
                    <br><small class="text-muted">‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏≠‡∏á</small>
                  </div>
                  <div id="instance-settings" style="display: none;">
                    <p class="text-muted text-center">‡πÑ‡∏°‡πà‡∏û‡∏ö instance ‡∏Å‡∏î "Refresh" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏´‡∏≤</p>
                  </div>
                  
                  <!-- Speed Settings -->
                  <div class="mt-3 pt-3 border-top">
                    <label class="form-label"><i class="bi bi-speedometer2"></i> ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß</label>
                    <div class="btn-group w-100" role="group">
                      <input type="radio" class="btn-check" name="speed" id="speed-normal" value="normal">
                      <label class="btn btn-outline-secondary" for="speed-normal">üê¢ ‡∏õ‡∏Å‡∏ï‡∏¥</label>
                      
                      <input type="radio" class="btn-check" name="speed" id="speed-fast" value="fast" checked>
                      <label class="btn btn-outline-primary" for="speed-fast">üöÄ ‡πÄ‡∏£‡πá‡∏ß</label>
                      
                      <input type="radio" class="btn-check" name="speed" id="speed-turbo" value="turbo">
                      <label class="btn btn-outline-danger" for="speed-turbo">‚ö° ‡πÄ‡∏£‡πá‡∏ß‡∏°‡∏≤‡∏Å</label>
                    </div>
                    <small class="text-muted d-block mt-1">
                      ‚ö†Ô∏è ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÑ‡∏î‡πâ
                    </small>
                  </div>
                </div>
              </div>

              <!-- Send Mode -->
              <div class="mb-3">
                <label class="form-label">‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á</label>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="sendMode" id="mode-parallel" value="parallel" checked>
                  <label class="form-check-label" for="mode-parallel">
                    <i class="bi bi-lightning"></i> Parallel (‡∏™‡πà‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å instance ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô)
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="sendMode" id="mode-sequential" value="sequential">
                  <label class="form-check-label" for="mode-sequential">
                    <i class="bi bi-list-ol"></i> Sequential (‡∏™‡πà‡∏á‡∏ó‡∏µ‡∏•‡∏∞ instance)
                  </label>
                </div>
              </div>

              <!-- Control Buttons -->
              <div class="control-buttons">
                <button type="submit" class="btn btn-success btn-lg" id="btn-start">
                  <i class="bi bi-send-fill"></i> ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
                </button>
                <button type="button" class="btn btn-warning btn-lg" onclick="pauseAll()" id="btn-pause">
                  <i class="bi bi-pause-fill"></i> ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
                </button>
                <button type="button" class="btn btn-info btn-lg" onclick="resumeAll()" id="btn-resume">
                  <i class="bi bi-play-fill"></i> ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠
                </button>
                <button type="button" class="btn btn-danger btn-lg" onclick="stopAll()" id="btn-stop">
                  <i class="bi bi-stop-fill"></i> ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                </button>
              </div>
            </form>
          </div>
        </div>

        <!-- Progress Cards -->
        <div class="row" id="progress-cards">
          <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏î‡∏¢ JavaScript -->
        </div>

        <!-- Logs -->
        <div class="card">
          <div class="card-header d-flex justify-content-between align-items-center">
            <span><i class="bi bi-terminal"></i> Logs</span>
            <button class="btn btn-sm btn-outline-secondary" onclick="clearLogs()">
              <i class="bi bi-trash"></i> ‡∏•‡πâ‡∏≤‡∏á
            </button>
          </div>
          <div class="card-body">
            <div class="log-box" id="log-box">
              <p class="text-muted">‡∏£‡∏≠ logs...</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/app.js"></script>
</body>
</html>
